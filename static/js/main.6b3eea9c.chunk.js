(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{101:function(e,t,n){e.exports={input_form:"InputForm_input_form__3rdyG",formik:"InputForm_formik__1HFOY",input:"InputForm_input__2WAva",add:"InputForm_add__1BuJJ"}},11:function(e,t,n){e.exports={img:"ProfileInfo_img__16Ajo",myPosts:"ProfileInfo_myPosts__2daRd",enter:"ProfileInfo_enter__2jvOF",textarea:"ProfileInfo_textarea__2w4Kd",button:"ProfileInfo_button__20idN",form:"ProfileInfo_form__2S74r",profile:"ProfileInfo_profile__3O39W",profile_img:"ProfileInfo_profile_img__24fht",profile_info:"ProfileInfo_profile_info__sIzMd",profile_span:"ProfileInfo_profile_span__20xav",profile_item:"ProfileInfo_profile_item__2Letj",button_status:"ProfileInfo_button_status__24Npj",status:"ProfileInfo_status__IUGto",profile_addPhoto:"ProfileInfo_profile_addPhoto__2m_Qe"}},115:function(e,t,n){e.exports={formSummaryError:"Login_formSummaryError__1iO-u",login:"Login_login__2mm2g"}},128:function(e,t,n){e.exports={messages:"Message_messages__1rjFW",message:"Message_message__3z7YI",avatar:"Message_avatar__3gu8p"}},129:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1QEv-",error:"FormsControls_error__1SgY7",createField:"FormsControls_createField__31vrV"}},146:function(e,t,n){e.exports={dialog:"DialodItem_dialog__3pmaR"}},152:function(e,t,n){e.exports={h3:"MyPosts_h3__jxOB3",post:"MyPosts_post__3zvrQ"}},153:function(e,t,n){e.exports={to_do:"ToDo_to_do__FeXkL",right:"ToDo_right__2EOee"}},154:function(e,t,n){e.exports={header:"TaskIndicator_header__xFzoP",add:"TaskIndicator_add__Us7JK"}},194:function(e,t,n){e.exports={button:"Button_button__3dEpR"}},198:function(e,t,n){e.exports={loader:"Preloader_loader__2bwtg"}},200:function(e,t,n){e.exports={todolist:"MyToDoList_todolist__3FLcC"}},201:function(e,t,n){e.exports={toDoList:"ToDoList_toDoList__2HFZD"}},378:function(e,t,n){},379:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(31),c=n.n(a),i=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,396)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))},o=n(74),u=n(75),l=n(81),j=n(80),d=n(1),f=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:" Setting"}),Object(d.jsx)("p",{children:"This section is under construction."})]})},b=n(85),p=n.n(b),O=n(128),h=n.n(O),m=function(e){var t=e.message,n=e.myProfilePhoto;return Object(d.jsxs)("div",{className:h.a.messages,children:[Object(d.jsx)("div",{className:h.a.message,children:t}),Object(d.jsx)("div",{className:h.a.avatar,children:Object(d.jsx)("img",{src:n,alt:"avatar"})})]})},x=n(30),_=n(146),g=n.n(_),v=function(e){var t=e.id,n=e.name;return Object(d.jsx)("div",{className:g.a.dialog,children:Object(d.jsx)(x.c,{to:"/dialogs/".concat(t),className:g.a.dialog,children:n})})},P=n(194),S=n.n(P),y=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:S.a.button,onClick:e.onClick,children:e.text})})},N=n(192),w=n(4),k=n(161),I=n(191),E=n(129),T=n.n(E),C=function(e){var t=e.meta,n=t.touched,r=t.error,s=e.children,a=n&&r;return Object(d.jsxs)("div",{className:"".concat(T.a.formControl," ").concat(a?T.a.error:""),children:[Object(d.jsx)("div",{children:s}),a&&Object(d.jsx)("span",{children:r})]})},F=function(e){var t=e.input,n=(e.meta,Object(k.a)(e,["input","meta"]));return Object(d.jsx)(C,Object(w.a)(Object(w.a)({},e),{},{children:Object(d.jsx)("textarea",Object(w.a)(Object(w.a)({},t),n))}))},U=function(e){var t=e.input,n=(e.meta,Object(k.a)(e,["input","meta"]));return Object(d.jsx)(C,Object(w.a)(Object(w.a)({},e),{},{children:Object(d.jsx)("input",Object(w.a)(Object(w.a)({},t),n))}))};function D(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return Object(d.jsx)("div",{className:T.a.createField,children:Object(d.jsx)(I.a,Object(w.a)({placeholder:e,name:t,validate:n,component:r,type:s},a))})}var A,L,M=function(e){if(!e)return"Field is requred"},R=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbol")}},z=R(10),G=Object(N.a)({form:"dialogAddMessegeForm"})((function(e){var t=e.handleSubmit;return Object(d.jsx)("form",{onSubmit:t,className:p.a.textarea,children:Object(d.jsxs)("div",{children:[D("enter message","newMessageText",[M,z],F),Object(d.jsx)("div",{className:p.a.button,children:Object(d.jsx)(y,{text:"Send"})})]})})})),H=function(e){var t=e.dialogs,n=e.messages,r=e.myProfilePhoto,s=e.newMessages,a=t.map((function(e){return Object(d.jsx)(v,{name:e.name,id:e.id},e.id)})),c=n.map((function(e){return Object(d.jsx)(m,{message:e.message,myProfilePhoto:r},e.id)}));return Object(d.jsxs)("div",{className:p.a.dialogs,children:[Object(d.jsx)("div",{className:p.a.items,children:a}),Object(d.jsx)("div",{className:p.a.messages,children:c}),Object(d.jsx)(G,{onSubmit:function(e){return s(e.newMessageText)}})]})},J=n(47),K=n(36),Y={dialogs:[{id:1,name:"Dima",active:"active"},{id:2,name:"Alina",active:" "},{id:3,name:"Ninja",active:" "},{id:4,name:"Spider-man",active:" "}],messages:[{id:1,message:"hello!!"},{id:2,message:"How are you?"},{id:3,message:"yoyo"},{id:4,message:"hello man) "}]},W=function(e){return{type:"dialog/SEND_MESSAGE",message:e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialog/SEND_MESSAGE":return Object(w.a)(Object(w.a)({},e),{},{messages:[].concat(Object(J.a)(e.messages),[{id:e.messages.length+2,message:t.message}])});default:return e}},q=n(10),V=n(16),X=W,Q=Object(V.d)(Object(q.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,myProfilePhoto:e.profilePage.myProfilePhoto}}),{newMessages:X}))(H),Z=n(14),$=n.n(Z),ee=n(23),te=n(197),ne=n.n(te).a.create({withCredentials:!0,headers:{"API-KEY":"bac7d47b-efec-4715-8bfd-5f98ebf82dcf"},baseURL:"https://social-network.samuraijs.com/api/1.0/"});!function(e){e[e.Success=0]="Success",e[e.error=1]="error"}(A||(A={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(L||(L={}));var re=function(e){return ne.get("/profile/status/".concat(e)).then((function(e){return e.data}))},se=function(e){var t=new FormData;return t.append("image",e),ne.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},ae=function(e){return ne.put("/profile",e).then((function(e){return e.data}))},ce=function(e){return ne.get("profile/".concat(e)).then((function(e){return e.data}))},ie={posts:[{id:1,message:"Hi, how are you?",like:1},{id:2,message:"Hi!!",like:55},{id:3,message:"I know it...",like:144},{id:4,message:"Have a good day",like:15},{id:5,message:"It's my first post!!",like:177}],profile:null,myProfilePhoto:null,status:" "},oe=function(e){return{type:"profile/ADD_POST",newPost:e}},ue=function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},le=function(e){return{type:"profile/SET_MY_PROFILE_PHOTO",profile:e}},je=function(e){return{type:"profile/SET_STATUS",status:e}},de=function(e){return{type:"profile/SET_PHOTO",photo:e}},fe=function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){var r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e);case 2:r=t.sent,n(ue(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/ADD_POST":return Object(w.a)(Object(w.a)({},e),{},{posts:[].concat(Object(J.a)(e.posts),[{id:e.posts.length+1,message:t.newPost,like:0}])});case"profile/SET_USER_PROFILE":return Object(w.a)(Object(w.a)({},e),{},{profile:t.profile});case"profile/SET_MY_PROFILE_PHOTO":return Object(w.a)(Object(w.a)({},e),{},{myProfilePhoto:t.profile});case"profile/SET_STATUS":return Object(w.a)(Object(w.a)({},e),{},{status:t.status});case"profile/DELETE_POST":return Object(w.a)(Object(w.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"profile/SET_PHOTO":return Object(w.a)(Object(w.a)({},e),{},{myProfilePhoto:t.photo});default:return e}},pe=n(67),Oe=n(11),he=n.n(Oe),me=n(198),xe=n.n(me),_e=n.p+"static/media/loader.932ba854.svg",ge=function(){return Object(d.jsx)("div",{className:xe.a.loader,children:Object(d.jsx)("img",{src:_e,alt:"loader"})})},ve=function(e){return e.profilePage.profile},Pe=function(e){return e.auth.userId},Se=function(e){return e.profilePage.status},ye=function(e){var t=e.getStatus,n=e.userId,s=e.updateStatus,a=Object(q.d)(Se);console.log(a),t(n);var c=Object(r.useState)(!1),i=Object(pe.a)(c,2),o=i[0],u=i[1],l=Object(r.useState)(a),j=Object(pe.a)(l,2),f=j[0],b=j[1];Object(r.useEffect)((function(){b(a)}),[a]);return Object(d.jsxs)("div",{className:he.a.status,children:[!o&&Object(d.jsxs)("div",{className:he.a.status,children:[Object(d.jsxs)("span",{className:he.a.profile_span,children:["Status: ",a||"no status"]}),Object(d.jsx)("button",{onClick:function(){return u(!0)},className:he.a.button_status,children:"update status"})]}),o&&Object(d.jsxs)("div",{className:he.a.status,children:[Object(d.jsx)("input",{autoFocus:!0,value:f,onChange:function(e){return b(e.currentTarget.value)}}),Object(d.jsx)("button",{className:he.a.button_status,onClick:function(){u(!1),s(a)},children:"save"})]})]})},Ne=n.p+"static/media/user-male.3759889a.png",we=R(10),ke=Object(N.a)({form:"newPostText"})((function(e){var t=e.handleSubmit;return Object(d.jsx)("form",{onSubmit:t,className:he.a.enter,children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:he.a.textarea,children:D("enter post","newPostText",[M,we],F)}),Object(d.jsx)("div",{className:he.a.button,children:Object(d.jsx)(y,{text:"add post"})})]})})})),Ie=function(e){var t=e.contactTitle,n=e.contactValue;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{className:he.a.profile_span,children:[" ",t]}),":",n]})},Ee=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return Object(d.jsxs)("div",{className:he.a.profile_info,children:[Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"Full mame:"}),t.fullName]}),Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"id: "}),t.userId]}),Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"About me: "}),t.aboutMe]}),Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"Look for a job: "}),t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"My professional skills:"}),t.lookingForAJobDescription]}),Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"Contact: "}),Object.keys(t.contacts).map((function(e){return Object(d.jsx)(Ie,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),Object(d.jsx)("div",{children:n&&Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:r,children:"edit"})})})]})},Te=Object(N.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,n=e.profile,r=e.isOwner,s=e.error;return Object(d.jsxs)("form",{onSubmit:t,children:[r&&Object(d.jsxs)("form",{className:he.a.profile_info,children:[Object(d.jsx)("div",{className:he.a.profile_item,children:Object(d.jsxs)("span",{className:he.a.profile_span,children:["Full name: ",D("Full mame","fullName",[],U)]})}),Object(d.jsx)("div",{className:he.a.profile_item,children:Object(d.jsxs)("span",{className:he.a.profile_span,children:["Look for a job:",D("","lookingForAJob",[],U,"checkbox")]})}),Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"My professional skills:"}),D("enter your skill","lookingForAJobDescription",[],F,"")]}),Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"About me:"}),D("enter about me","aboutMe",[],F,"")]}),Object(d.jsxs)("div",{className:he.a.profile_item,children:[Object(d.jsx)("span",{className:he.a.profile_span,children:"Contact: "}),Object.keys(n.contacts).map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:e}),": ",D(e,"contacts.".concat(e),[],F,"")]},e)}))]})]}),Object(d.jsxs)("div",{children:[s&&Object(d.jsx)("div",{children:s}),r&&Object(d.jsx)("div",{children:Object(d.jsx)("button",{children:"save"})})]})]})})),Ce=function(e){var t=e.profile,n=e.status,s=e.getStatus,a=(e.myId,e.updateStatus),c=e.addPosts,i=e.isOwner,o=e.savePhoto,u=e.saveProfile,l=Object(r.useState)(!1),j=Object(pe.a)(l,2),f=j[0],b=j[1];if(!t)return Object(d.jsx)(ge,{});return Object(d.jsx)("div",{className:he.a.myPosts,children:Object(d.jsxs)("div",{className:he.a.profile,children:[Object(d.jsx)("img",{src:t.photos.large||Ne,className:he.a.profile_img,alt:"photos"}),i&&Object(d.jsx)("div",{className:he.a.profile_addPhoto,children:Object(d.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&o(e.target.files[0])}})}),i&&Object(d.jsx)(ye,{status:n,getStatus:s,userId:t.userId,updateStatus:a}),f?Object(d.jsx)(Te,{isOwner:i,initialValues:t,profile:t,onSubmit:function(e){u(e).then((function(){b(!1)}))}}):Object(d.jsx)(Ee,{profile:t,isOwner:i,goToEditMode:function(){return b(!0)}}),Object(d.jsx)(ke,{onSubmit:function(e){return c(e.newPostText)}})]})})},Fe=Object(q.b)((function(e){return{status:e.profilePage.status,myId:e.auth.userId}}),{addPosts:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(oe(e)),n(Object(K.a)("newPostText"));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){var r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:r=t.sent,n(je(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(je(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){var r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e);case 2:0===(r=t.sent).resultCode&&n(de(r.data.photos.large));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n,r){var s,a;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.userId,t.next=3,ae(e);case 3:if(0!==(a=t.sent).resultCode){t.next=8;break}n(fe(s)),t.next=10;break;case 8:return n(Object(K.b)("editProfile",{_error:a.messages[0]})),t.abrupt("return",Promise.reject(a.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Ce),Ue=n(72),De=n.n(Ue),Ae=n.p+"static/media/like.66cbaf98.png",Le=function(e){var t=e.myProfilePhoto,n=e.messege,r=e.like;return Object(d.jsx)("div",{className:De.a.posts,children:Object(d.jsxs)("div",{className:De.a.post,children:[Object(d.jsx)("img",{src:t||Ne,alt:"",className:De.a.img}),Object(d.jsx)("span",{className:De.a.text,children:n}),Object(d.jsxs)("div",{className:De.a.likes,children:[Object(d.jsx)("img",{src:Ae,alt:"",className:De.a.like}),Object(d.jsxs)("span",{children:[" ",r]})]})]})})},Me=n(152),Re=n.n(Me),ze=function(e){var t=Object(J.a)(e.posts).reverse().map((function(t){return Object(d.jsx)(Le,{messege:t.message,like:t.like,myProfilePhoto:e.myProfilePhoto},t.id)}));return Object(d.jsxs)("div",{className:Re.a.post,children:[Object(d.jsx)("h3",{className:Re.a.h3,children:"My posts:"}),t]})},Ge=s.a.memo(ze),He=Object(q.b)((function(e){return{posts:e.profilePage.posts,myProfilePhoto:e.profilePage.myProfilePhoto}}),{})(Ge),Je=function(e){var t=e.isOwner,n=Object(q.d)(ve),r=(Object(q.d)(Pe),Object(q.c)());return Object(d.jsxs)("div",{children:[Object(d.jsx)(Fe,{profile:n,isOwner:t,getStatus:function e(t){r(e(t))},updateStatus:function e(t){r(e(t))},addPosts:function e(t){r(e(t))},savePhoto:function e(t){r(e(t))},saveProfile:function e(t){r(e(t))}}),Object(d.jsx)(He,{})]})};var Ke=function(e){return function(t){return Object(d.jsx)(s.a.Suspense,{fallback:Object(d.jsx)(ge,{}),children:Object(d.jsx)(e,Object(w.a)({},t))})}},Ye=n(17),We=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).refreshProfile=function(){e.props.getUser(e.props.match.params.userId||e.props.userId)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(){this.refreshProfile()}},{key:"render",value:function(){return Object(d.jsx)(Je,Object(w.a)(Object(w.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),n}(s.a.Component),Be=Object(V.d)(Ke,Ye.h,Object(q.b)((function(e){return{userId:Pe(e)}}),{getUser:fe}))(We),qe=n(115),Ve=n.n(qe),Xe=Object(N.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(d.jsxs)("form",{onSubmit:t,children:[D("login","email",[M],U),D("password","password",[M],U,"password"),r&&Object(d.jsx)("img",{src:r,alt:"captchaUrl"}),r&&D("symbol from img","captcha",[M],U,"",{}),n&&Object(d.jsx)("div",{className:Ve.a.formSummaryError,children:n}),D("","rememberMe",[],U,"checkbox")," ","remember me",Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{children:"Submit"}),Object(d.jsxs)("button",{style:{margin:"10px"},children:[" ",Object(d.jsx)("a",{href:"https://social-network.samuraijs.com/signUp",children:"Sing Up"})]})]})]})})),Qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ne.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},Ze=function(){return ne.delete("auth/login").then((function(e){return e.data}))},$e=function(){return ne.get("auth/me").then((function(e){return e.data}))},et=function(){return ne.get("security/get-captcha-url").then((function(e){return e}))},tt={isFetching:!1,userId:null,login:null,email:null,isAuth:!1,avatar:null,captchaUrl:null},nt=function(e){return{type:"auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},rt=function(e,t,n,r){return{type:"auth/SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:r}}},st=function(){return function(){var e=Object(ee.a)($.a.mark((function e(t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:n=e.sent,t(nt(n.data.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":case"auth/GET_CAPTCHA_URL_SUCCESS":return Object(w.a)(Object(w.a)({},e),t.payload);default:return e}},ct=function(e){return e.auth.captchaUrl},it=function(e){return e.auth.isAuth},ot=function(e){var t=Object(q.d)(ct),n=Object(q.d)(it),r=Object(q.c)();return n?Object(d.jsx)(Ye.a,{to:"/profile"}):Object(d.jsxs)("div",{className:Ve.a.login,children:[Object(d.jsx)("h3",{children:"Login"}),Object(d.jsx)(Xe,{onSubmit:function(e){var t,n,s,a;r((t=e.email,n=e.password,s=e.rememberMe,a=e.captcha,function(){var e=Object(ee.a)($.a.mark((function e(r){var c,i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t,n,s,a);case 2:(c=e.sent).resultCode===A.Success?r(function(){var e=Object(ee.a)($.a.mark((function e(t){var n,r,s,a,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:(n=e.sent).resultCode===A.Success&&(r=n.data,s=r.id,a=r.login,c=r.email,t(rt(s,a,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(c.resultCode===L.CaptchaIsRequired&&r(st()),i=c.messages.length>0?c.messages[0]:"common error",r(Object(K.b)("login",{_error:i})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:t})]})},ut=n(199),lt=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(w.a)(Object(w.a)({},e),r):e}))},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ne.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},dt={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],filter:{term:"",friend:null}},ft=function(e){return{type:"user/SET_USERS",users:e}},bt=function(e){return{type:"user/SET_FILTER",payload:e}},pt=function(e){return{type:"user/SET_CURRENT_PAGE",currentPage:e}},Ot=function(e){return{type:"user/SET_TOTAL_USERS_CURRENT",totalCount:e}},ht=function(e){return{type:"user/TOGGLE_IS_FETCHING",isFetching:e}},mt=function(e,t,n){return function(){var r=Object(ee.a)($.a.mark((function r(s){var a;return $.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s(ht(!0)),s(pt(e)),s(bt(n)),r.next=5,jt(e,t,n.term,n.friend);case 5:a=r.sent,s(ft(a.items)),s(Ot(a.totalCount)),s(ht(!1));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"user/FOLLOW":return Object(w.a)(Object(w.a)({},e),{},{users:lt(e.users,t.userId,"id",{followed:!0})});case"user/UNFOLLOW":return Object(w.a)(Object(w.a)({},e),{},{users:lt(e.users,t.userId,"id",{followed:!1})});case"user/SET_USERS":return Object(w.a)(Object(w.a)({},e),{},{users:Object(J.a)(t.users)});case"user/SET_CURRENT_PAGE":return Object(w.a)(Object(w.a)({},e),{},{currentPage:t.currentPage});case"user/SET_TOTAL_USERS_CURRENT":return Object(w.a)(Object(w.a)({},e),{},{totalUsersCount:t.totalCount});case"user/TOGGLE_IS_FETCHING":return Object(w.a)(Object(w.a)({},e),{},{isFetching:t.isFetching});case"user/SET_FILTER":return Object(w.a)(Object(w.a)({},e),{},{filter:t.payload});case"user/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(w.a)(Object(w.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(J.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}},_t=n(193),gt={initialized:!1},vt=function(){return{type:"app/SET_INITIALIZED"}},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_INITIALIZED":return Object(w.a)(Object(w.a)({},e),{},{initialized:!0});default:return e}},St=Object(V.c)({profilePage:be,dialogsPage:B,usersPage:xt,auth:at,form:_t.a,app:Pt}),yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d,Nt=Object(V.e)(St,yt(Object(V.a)(ut.a)));window.store=Nt;var wt=Nt,kt=(n(375),n(200)),It=n.n(kt),Et=n(101),Tt=n.n(Et),Ct=function(e){return Object(d.jsx)("div",{className:Tt.a.input_form,children:Object(d.jsxs)("form",{onSubmit:e.onSubmit,id:"myForm",className:Tt.a.formik,children:[Object(d.jsx)("input",{className:Tt.a.input,type:"text",placeholder:"Add to-do",onChange:e.onChange}),Object(d.jsx)("button",{className:Tt.a.add,children:"+add"})]})})},Ft=n(153),Ut=n.n(Ft),Dt=function(e){return Object(d.jsxs)("div",{className:Ut.a.to_do,children:[e.task,Object(d.jsx)("button",{className:Ut.a.right,onClick:function(){return e.onDelete(e.index)}})]})},At=n(201),Lt=n.n(At),Mt=function(e){var t=e.lists.map((function(t){return Object(d.jsx)(Dt,{task:t.task,index:t.id,onDelete:e.onDelete},t.id)}));return Object(d.jsx)("div",{className:Lt.a.toDoList,children:t})},Rt=n(154),zt=n.n(Rt),Gt=function(e){return Object(d.jsx)("div",{className:zt.a.header,children:Object(d.jsx)("h3",{className:zt.a.h3,children:"You have ".concat(e.number," ").concat(1===e.number?" task":" tasks")})})},Ht=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={lists:[{task:"Keep calm and carry on",id:1}],input:""},e.handleChange=function(t){e.setState({input:t.target.value})},e.handleSubmit=function(t){var n;t.preventDefault(),""!==e.state.input&&(n={task:e.state.input,id:e.state.lists.length+1},e.setState({lists:[].concat(Object(J.a)(e.state.lists),[n]),input:""}),document.getElementById("myForm").reset())},e.handleDelete=function(t){var n=e.state.lists.filter((function(e){return e.id!==t}));e.setState({lists:n})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:It.a.todolist,children:[Object(d.jsx)(Ct,{onChange:this.handleChange,onSubmit:this.handleSubmit}),Object(d.jsx)(Mt,{lists:this.state.lists,onDelete:this.handleDelete}),Object(d.jsx)(Gt,{number:this.state.lists.length})]})}}]),n}(r.Component),Jt=n(50),Kt=n.n(Jt),Yt=n(112),Wt=n(86),Bt=n.n(Wt),qt=n(8),Vt=n.n(qt),Xt=function(e){for(var t=e.totalItemsCount,n=e.pageSize,s=e.onPageChenged,a=e.currentPage,c=e.portionSize,i=void 0===c?10:c,o=Math.ceil(t/n),u=[],l=1;l<o;l++)u.push(l);var j=Math.ceil(o/i),f=Object(r.useState)(1),b=Object(pe.a)(f,2),p=b[0],O=b[1],h=(p-1)*i+1,m=p*i;return Object(d.jsxs)("div",{className:Bt.a.pagination,children:[p>1&&Object(d.jsx)("button",{onClick:function(){O(p-1)},className:Bt.a.button,children:"PREV"}),u.filter((function(e){return e>=h&&e<=m})).map((function(e){return Object(d.jsx)("span",{className:Vt()(Object(Yt.a)({},Bt.a.selectedPage,a===e),Bt.a.pageNumber),onClick:function(){s(e)},children:e},e)})),j>p&&Object(d.jsx)("button",{onClick:function(){O(p+1)},className:Bt.a.button,children:"NEXT"})]})},Qt=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,s=e.follow;return Object(d.jsxs)("div",{className:Kt.a.user,children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("div",{className:Kt.a.userPhoto,children:Object(d.jsx)(x.c,{to:"/profile/".concat(t.id),children:Object(d.jsx)("img",{className:Kt.a.user_img,src:t.photos.small||Ne,alt:"foto"})})}),Object(d.jsx)("div",{className:Kt.a.button,children:t.followed?Object(d.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(d.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"Follow"})})]}),Object(d.jsxs)("span",{className:Kt.a.user_info,children:[Object(d.jsxs)("div",{className:Kt.a.item_info,children:["Name: ",t.name]}),Object(d.jsx)("div",{className:Kt.a.item_info,children:t.status||"no status"}),Object(d.jsxs)("div",{className:Kt.a.item_info,children:[" id : ",t.id]})]})]})},Zt=n(102),$t=n(204),en=function(e){return e.usersPage.users},tn=(Object($t.a)(en,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.usersPage.pageSize}),nn=function(e){return e.usersPage.totalUsersCount},rn=function(e){return e.usersPage.currentPage},sn=function(e){return e.usersPage.isFetching},an=function(e){return e.usersPage.followingInProgress},cn=function(e){return e.usersPage.filter},on=function(){return{}},un=s.a.memo((function(e){var t=Object(q.d)(cn);return Object(d.jsx)(Zt.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:on,onSubmit:function(t,n){var r=n.setSubmitting,s={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(s),r(!1)},children:function(e){var t=e.isSubmitting;return Object(d.jsxs)(Zt.b,{children:[Object(d.jsx)(Zt.a,{type:"text",name:"term"}),Object(d.jsxs)(Zt.a,{name:"friend",as:"select",children:[Object(d.jsx)("option",{value:"null",children:"all "}),Object(d.jsx)("option",{value:"true",children:"Only followed"}),Object(d.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(d.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})),ln=n(155),jn=function(e){var t=Object(q.d)(nn),n=Object(q.d)(rn),s=Object(q.d)(tn),a=Object(q.d)(cn),c=Object(q.d)(en),i=Object(q.d)(an),o=Object(q.c)(),u=function e(t){o(e(t))},l=function e(t){o(e(t))},j=Object(Ye.g)();return Object(r.useEffect)((function(){var e=ln.parse(j.location.search.substr(1)),t=n,r=a;switch(e.page&&(t=Number(e.page)),e.term&&(r=Object(w.a)(Object(w.a)({},r),{},{term:e.term})),e.friend){case"null":r=Object(w.a)(Object(w.a)({},r),{},{friend:null});break;case"true":r=Object(w.a)(Object(w.a)({},r),{},{friend:!0});break;case"false":r=Object(w.a)(Object(w.a)({},r),{},{friend:!1})}o(mt(t,s,r))}),[]),Object(r.useEffect)((function(){var e={};a.term&&(e.term=a.term),null!==a.friend&&(e.friend=String(a.friend)),1!==n&&(e.page=String(n)),j.push({pathname:"/developers",search:ln.stringify(e)})}),[a,n]),Object(d.jsxs)("div",{children:[Object(d.jsx)(un,{onFilterChanged:function(e){o(mt(1,s,e))}}),Object(d.jsx)(Xt,{totalItemsCount:t,pageSize:s,onPageChenged:function(e){o(mt(e,s,a))},currentPage:n}),Object(d.jsx)("div",{className:Kt.a.users,children:c.map((function(e){return Object(d.jsx)(Qt,{user:e,followingInProgress:i,follow:u,unfollow:l},e.id)}))})]})},dn=function(e){var t=Object(q.d)(sn);return Object(d.jsxs)(d.Fragment,{children:[t?Object(d.jsx)(ge,{}):null,Object(d.jsx)(jn,{})]})},fn=n(385),bn=n(382),pn=n(388),On=n(389),hn=n(390),mn=n(386),xn=n(387),_n=n(384),gn=function(e){return e.auth.isAuth},vn=function(e){return e.profilePage.myProfilePhoto},Pn=function(e){return e.auth.login},Sn=function(e){var t=Object(q.d)(gn),n=(Object(q.d)(Pn),Object(q.d)(vn)),r=Object(q.c)(),s=bn.a.Header;return Object(d.jsx)(s,{className:"header",children:Object(d.jsxs)(mn.a,{children:[Object(d.jsx)(xn.a,{span:18,children:Object(d.jsx)(fn.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:Object(d.jsx)(fn.a.Item,{children:Object(d.jsx)(x.b,{to:"/developers",children:"Developers"})},"1")})}),t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(xn.a,{span:1,children:Object(d.jsx)("img",{src:n||"",width:"32px"})}),Object(d.jsx)(xn.a,{span:5,children:Object(d.jsx)(_n.a,{onClick:function(){r(function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:e.sent.resultCode===A.Success&&t(rt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log out"})})]}):Object(d.jsx)(xn.a,{span:6,children:Object(d.jsx)(_n.a,{children:Object(d.jsx)(x.b,{to:"/login",children:"Login"})})})]})})},yn=fn.a.SubMenu,Nn=bn.a.Content,wn=bn.a.Footer,kn=bn.a.Sider,In=s.a.lazy((function(){return n.e(4).then(n.bind(null,397))})),En=s.a.lazy((function(){return n.e(3).then(n.bind(null,398))})),Tn=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(d.jsx)(ge,{}):Object(d.jsxs)(bn.a,{children:[Object(d.jsx)(Sn,{}),Object(d.jsx)(Nn,{style:{padding:"0 50px"},children:Object(d.jsxs)(bn.a,{className:"site-layout-background",style:{padding:"24px 0"},children:[Object(d.jsx)(kn,{className:"site-layout-background",width:200,children:Object(d.jsxs)(fn.a,{mode:"inline",defaultSelectedKeys:["2"],defaultOpenKeys:["sub1"],style:{height:"100%"},children:[Object(d.jsxs)(yn,{icon:Object(d.jsx)(pn.a,{}),title:"My profile",children:[Object(d.jsx)(fn.a.Item,{children:Object(d.jsx)(x.b,{to:"/profile",children:"Profile"})},"1"),Object(d.jsx)(fn.a.Item,{children:Object(d.jsx)(x.b,{to:"/dialogs",children:" Massages "})},"2")]},"sub1"),Object(d.jsx)(yn,{icon:Object(d.jsx)(On.a,{}),title:"Developers",children:Object(d.jsx)(fn.a.Item,{children:Object(d.jsx)(x.b,{to:"/developers",children:" Developers "})},"3")},"sub2"),Object(d.jsxs)(yn,{icon:Object(d.jsx)(hn.a,{}),title:"Other",children:[Object(d.jsx)(fn.a.Item,{children:Object(d.jsx)(x.b,{to:"/music",children:"Music"})},"9"),Object(d.jsx)(fn.a.Item,{children:Object(d.jsx)(x.b,{to:"/todolist",children:" My to do list"})},"10"),Object(d.jsx)(fn.a.Item,{children:Object(d.jsx)(x.b,{to:"/setting",children:" Setting"})},"11")]},"sub3")]})}),Object(d.jsx)(Nn,{style:{padding:"0 100px",minHeight:280},children:Object(d.jsxs)(Ye.d,{children:[Object(d.jsx)(Ye.b,{exact:!0,path:"/",render:function(){return Object(d.jsx)(Ye.a,{to:"/profile"})}}),Object(d.jsx)(Ye.b,{path:"/profile/:userId?",render:function(){return Object(d.jsx)(Be,{})}}),Object(d.jsx)(Ye.b,{path:"/dialogs",render:function(){return Object(d.jsx)(Q,{})}}),Object(d.jsx)(Ye.b,{path:"/news",render:Ke(In)}),Object(d.jsx)(Ye.b,{path:"/music",render:Ke(En)}),Object(d.jsx)(Ye.b,{path:"/developers",render:function(){return Object(d.jsx)(dn,{})}}),Object(d.jsx)(Ye.b,{path:"/setting",render:function(){return Object(d.jsx)(f,{})}}),Object(d.jsx)(Ye.b,{path:"/todolist",render:function(){return Object(d.jsx)(Ht,{})}}),Object(d.jsx)(Ye.b,{path:"/login",render:function(){return Object(d.jsx)(ot,{})}}),Object(d.jsx)(Ye.b,{path:"/",render:function(){return Object(d.jsx)(Be,{})}}),Object(d.jsx)(Ye.b,{path:"*",render:function(){return Object(d.jsx)("div",{children:" 404 NOT FOUND "})}})]})})]})}),Object(d.jsx)(wn,{style:{textAlign:"center"},children:Object(d.jsxs)("p",{children:[" Go \xa9 2021 Created by ",Object(d.jsx)("a",{href:"https://www.linkedin.com/in/aleksandr-danilin-b351b8201/",children:"al4i"})]})})]})}}]),n}(s.a.Component),Cn=Object(V.d)(Ye.h,Object(q.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(function(){var e=Object(ee.a)($.a.mark((function e(t){var n,r,s,a,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:0===(n=e.sent).resultCode&&(r=n.data,s=r.id,a=r.login,c=r.email,t(rt(s,a,c,!0)),ce(s).then((function(e){t(le(e.photos.small))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all([t]).then((function(){return e(vt)}))}}}))(Tn),Fn=function(){return Object(d.jsx)(x.a,{children:Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(q.a,{store:wt,children:Object(d.jsx)(Cn,{})})})})};n(378);c.a.render(Object(d.jsx)(Fn,{}),document.getElementById("root")),i()},50:function(e,t,n){e.exports={users:"Users_users__3tJsa",userPhoto:"Users_userPhoto__1T8pe",user_img:"Users_user_img__1_6we",user:"Users_user__2SdBK",button:"Users_button__3WziW",user_info:"Users_user_info__Ybb33",item_info:"Users_item_info__2zwW7",selectedPage:"Users_selectedPage__2UxHK",pagination:"Users_pagination__O-1kE"}},72:function(e,t,n){e.exports={like:"Post_like__3NXBT",post:"Post_post__3NkGY",img:"Post_img__eAIYv",text:"Post_text__2MZWE",likes:"Post_likes__2LhaS"}},85:function(e,t,n){e.exports={dialogs:"Dialods_dialogs__3sjQK",items:"Dialods_items__3ec5C",textarea:"Dialods_textarea__37aqB",messages:"Dialods_messages__nNXQN",button:"Dialods_button__8KOvz",form:"Dialods_form__3Ebmx"}},86:function(e,t,n){e.exports={pagination:"Pagination_pagination__2qq8A",selectedPage:"Pagination_selectedPage__12YfX",pageNumber:"Pagination_pageNumber__1ZfAU"}}},[[379,1,2]]]);
//# sourceMappingURL=main.6b3eea9c.chunk.js.map